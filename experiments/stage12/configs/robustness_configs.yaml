# Stage 12 Robustness Testing Configuration
# Tests model robustness against adversarial attacks and distribution shifts

# Adversarial Edge Flip Scenario
edge_flips:
  perturbation_rates: [0.005, 0.01, 0.02, 0.05]  # 0.5%, 1%, 2%, 5% of edges
  target_strategy: high_degree  # high_degree, random, bridge_edges
  flip_type: random  # random, targeted_fraud, targeted_legit
  
# Feature Drift Scenario  
feature_drift:
  shift_magnitudes: [0.1, 0.5, 1.0]  # Gaussian noise standard deviations
  drift_type: gaussian  # gaussian, systematic_shift, missing_features
  affected_features: 0.5  # Fraction of features to affect
  
# Temporal Distribution Shift
temporal_shift:
  shift_window: 0.2  # Last 20% of temporal data for testing
  shift_magnitude: moderate  # mild, moderate, severe
  new_pattern_type: merchant_clusters  # merchant_clusters, behavior_change

# Defense Mechanisms to Test
defenses:
  baseline: {use_rg_defense: none, use_spottarget: false}
  spottarget: {use_rg_defense: none, use_spottarget: true}
  dropedge: {use_rg_defense: dropedge, use_spottarget: false}
  spectral: {use_rg_defense: spectral, use_spottarget: false}
  combined: {use_rg_defense: dropedge, use_spottarget: true}

# Model Configuration
model_config:
  use_cusp: true
  use_hypergraph: true
  use_memory: true
  hidden_dim: 64
  num_heads: 4

# Experiment Settings
experiment:
  epochs_baseline: 5    # Epochs for baseline training
  epochs_perturbed: 2   # Epochs for post-perturbation evaluation
  seeds: [42, 123]      # Multiple seeds for robustness
  
# Output Configuration
output:
  results_dir: results
  scenario_subdirs: [edge_flips, feature_drift, temporal_shift]
  summary_file: robustness_summary.json
